(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},o={},m={},g={},S={},P={};Object.defineProperty(P,"__esModule",{value:!0});var B={};Object.defineProperty(B,"__esModule",{value:!0});var L={};Object.defineProperty(L,"__esModule",{value:!0});var R={};Object.defineProperty(R,"__esModule",{value:!0});var z={};Object.defineProperty(z,"__esModule",{value:!0});var y={};Object.defineProperty(y,"__esModule",{value:!0});y.classnames=void 0;const K=e=>Object.entries(e).map(([t,n])=>n&&t),O=e=>!!e,Q=(e,t,n)=>n.indexOf(e)===t,J=[];function I(e){return e?typeof e=="string"?[e]:Array.isArray(e)?e.flatMap(I).filter(O):K(e).filter(O):J}function Y(e){const t=I(e).filter(Q);return t.length>0?t.join(" "):void 0}y.classnames=Y;(function(e){var t=f&&f.__createBinding||(Object.create?function(i,s,r,l){l===void 0&&(l=r);var a=Object.getOwnPropertyDescriptor(s,r);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(i,l,a)}:function(i,s,r,l){l===void 0&&(l=r),i[l]=s[r]}),n=f&&f.__exportStar||function(i,s){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&t(s,i,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(P,e),n(B,e),n(L,e),n(R,e),n(z,e),n(y,e)})(S);Object.defineProperty(g,"__esModule",{value:!0});g.setAttributes=void 0;const W=S;function X(e,t){for(const n of Object.keys(e))n in t&&(t[n]=e[n])}const Z=new RegExp("^on\\p{Lu}","u");function ee(e,t){for(const n of Object.keys(t)){if(n==="__source"||n==="__self"||n==="tsxTag")continue;const i=t[n];if(n==="class"){const s=(0,W.classnames)(i);s&&e.setAttribute(n,s)}else if(n==="ref")i.current=e;else if(Z.test(n)){const s=n.replace(/Capture$/,""),r=n!==s,l=s.toLowerCase().substring(2);e.addEventListener(l,i,r)}else n==="style"&&typeof i!="string"?X(i,e.style):n==="dangerouslySetInnerHTML"?e.innerHTML=i:i===!0?e.setAttribute(n,n):(i||i===0)&&e.setAttribute(n,i.toString())}}g.setAttributes=ee;var d={};Object.defineProperty(d,"__esModule",{value:!0});d.applyTsxTag=d.createDomElement=d.applyChildren=void 0;function te(e,t){t instanceof Element?e.appendChild(t):typeof t=="string"||typeof t=="number"?e.appendChild(document.createTextNode(t.toString())):console.warn("Unknown type to append: ",t)}function k(e,t){for(const n of t)!n&&n!==0||(Array.isArray(n)?k(e,n):te(e,n))}d.applyChildren=k;function ne(e,t){const n=t!=null&&t.is?{is:t.is}:void 0;return t!=null&&t.xmlns?document.createElementNS(t.xmlns,e,n):document.createElement(e,n)}d.createDomElement=ne;function oe(e,t){let n=e,i=t;return i&&"tsxTag"in i&&(n=i.tsxTag,!i.is&&e.includes("-")&&(i={...i,is:e})),{finalTag:n,finalAttrs:i}}d.applyTsxTag=oe;Object.defineProperty(m,"__esModule",{value:!0});m.createRef=m.h=m.createElement=void 0;const ie=g,w=d;function N(e,t,...n){if(typeof e=="function")return e({...t,children:n});const{finalTag:i,finalAttrs:s}=(0,w.applyTsxTag)(e,t),r=(0,w.createDomElement)(i,s);return s&&(0,ie.setAttributes)(r,s),(0,w.applyChildren)(r,n),r}m.createElement=N;m.h=N;const se=()=>({current:null});m.createRef=se;var v={},u={};Object.defineProperty(u,"__esModule",{value:!0});u.jsxDEV=u.jsxs=u.jsx=void 0;const re=g,T=d;function E(e,t){if(typeof e=="function")return e(t);const{children:n,...i}=t,{finalTag:s,finalAttrs:r}=(0,T.applyTsxTag)(e,i),l=(0,T.createDomElement)(s,r);return(0,re.setAttributes)(l,r),(0,T.applyChildren)(l,[n]),l}u.jsx=E;u.jsxs=E;u.jsxDEV=E;Object.defineProperty(v,"__esModule",{value:!0});v.defineCustomElement=void 0;const le=u;function ce(e,t,n){return customElements.define(e,t,n),i=>(0,le.jsx)(e,i)}v.defineCustomElement=ce;var G={};Object.defineProperty(G,"__esModule",{value:!0});(function(e){var t=f&&f.__createBinding||(Object.create?function(i,s,r,l){l===void 0&&(l=r);var a=Object.getOwnPropertyDescriptor(s,r);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(i,l,a)}:function(i,s,r,l){l===void 0&&(l=r),i[l]=s[r]}),n=f&&f.__exportStar||function(i,s){for(var r in i)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&t(s,i,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(m,e),n(v,e),n(u,e),n(G,e)})(o);const x="/dobby-ai/card_back.svg",ae="/dobby-ai/card_figured_1.svg",de="/dobby-ai/card_figured_2.svg",ue="/dobby-ai/card_figured_3.svg",fe="/dobby-ai/card_figured_4.svg",be="/dobby-ai/card_figured_5.svg",p=({id:e="none",figure:t,pinned:n=!1,click:i=U})=>{switch(t){case"blank":return o.h("div",{class:"image memory-game-cell-image","data-card-id":e});case"back":return o.h(_,{id:e,src:x,pinned:n,click:i});case"first":return o.h(_,{id:e,src:ae,pinned:n,click:i});case"second":return o.h(_,{id:e,src:de,pinned:n,click:i});case"third":return o.h(_,{id:e,src:ue,pinned:n,click:i});case"fourth":return o.h(_,{id:e,src:fe,pinned:n,click:i});case"fifth":return o.h(_,{id:e,src:be,pinned:n,click:i});default:return o.h(_,{id:e,src:x,pinned:n,click:i})}};function U(e){console.log("clicked! event: ",e)}const _=({id:e,src:t,pinned:n=!1,click:i=U})=>o.h("figure",{class:"image memory-game-cell-image"},o.h("img",{id:e+"-img",onClick:i,src:t,"data-card-id":e,"data-card-pinned":n})),me=()=>o.h("div",{class:"fixed-grid has-3-cols has-3-cols-mobile memory-game"},o.h("div",{class:"grid memory-game-grid"},C)),_e="/dobby-ai/birthday_gift_image_1.jpg",he="Ciao Erica! Sono Dobby, un elfo domestico virtuale. Tuo fratello mi ha programmato per farti gli auguri, ma credo di aver fatto un pasticcio...troppa Burrobirra ieri sera...",ge="Deve essere qui sotto... Ã¨ che, ehrmm, mi si sono tutte mischiate, ho provato a riordinarle con la bacchetta di tuo fratello, ma ora si rifiutano di girarsi se non in coppia...se troviamo tutte le coppie riesco a rimettere tutto a posto (forse)!",pe="Ce l'hai fatta! Grandissima, grazie mille! Eccolo dov'era, il biglietto! Qui sotto!",ye="Tanti Auguri",ve="Buon Compleanno Erica! Tanti tanti auguri, anche se ormai in ritardo mostruoso, come mio solito. Ti auguro di essere serena, tanto.",we="Un grosso abbraccio",Te="Ti voglio tanto bene",Ce=()=>o.h("section",{class:"mt-5"},o.h("h2",{class:"title is-size-2 is-size-3-mobile mb-4 has-text-centered"},ye),o.h("p",{class:"subtitle is-size-4 is-size-5-mobile oswald-font mb-5 has-text-centered"},ve),o.h("p",{class:"subtitle is-size-4 is-size-5-mobile oswald-font mb-5 has-text-centered"},we),o.h("p",{class:"subtitle is-size-4 is-size-5-mobile oswald-font mb-5 has-text-centered"},Te),o.h("img",{src:_e,class:"image mt-5-mobile mb-5-mobile"}),o.h("figure",{class:"image is-16by9 mt-3-mobile"},o.h("iframe",{width:"560",height:"315",class:"has-ratio birthday-wish-video",src:"https://www.youtube.com/embed/YQHsXMglC9A?si=Of5J5ooEHpZbQJtp",title:`YouTube
        video
        player`,allow:`accelerometer;
        autoplay;
        clipboard-write;
        encrypted-media;
        gyroscope;
        picture-in-picture;
        web-share`,referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:!0}))),Ee="/dobby-ai/celebrate.svg",Ae=()=>o.h("section",{class:"mt-5 celebration"},o.h("h2",{class:"title is-size-2 is-size-3-mobile mb-4 has-text-centered"},"TROVATE TUTTE!"),o.h("img",{src:Ee,class:"image"})),Oe=()=>{const e=document.getElementById("cloche-button");e==null||e.classList.remove("cloche-button-hidden"),console.log("removed cloche-button-hidden class from button!")},xe=()=>{const e=document.getElementById("cloche-button");e==null||e.classList.add("cloche-button-hidden"),console.log("removed cloche-button-hidden class from button!")},H=()=>console.log("[typewriter] default call_after callback called"),F=(e,t,n,i="",s=200,r=H)=>{let l=i;if(i.length<t.length){let a=n.shift();l+=a,console.log("acc: ",l),e.innerHTML+=a,setTimeout(()=>F(e,t,n,l,s,r),s)}else setTimeout(()=>{console.log("SHOW BUTTON"),r()},850)};function A(e,t,n=65,i=H){let s=t.split(""),r="";e.innerHTML="",F(e,t,s,r,n,i)}function $(){return console.log("[get_bubble_element] retrieving bubble text element"),document.getElementById("dobby-bubble-element")}function M(e){console.log("card_id",e);let t=document.getElementById(e||"none"),n=h.get(e||"blank");for(console.log("-------DEBUG (unfold_card - actions/cards)-------"),console.log("raw card_element",t),console.log("figure",n);t!=null&&t.firstChild;)t.removeChild(t.lastChild);t==null||t.appendChild(o.h(p,{id:e,figure:n,pinned:!1,click:Re})),console.log("card_element after unfold",t)}function V(e){let t=document.getElementById(e||"none");for(console.log("-------DEBUG (unfold_card)-------"),console.log("raw card_element",t);t!=null&&t.firstChild;)t.removeChild(t.lastChild);t==null||t.appendChild(o.h(p,{id:e,figure:"back",pinned:!1,click:q}))}function Me(){if(console.log("[check_card_match] CHECK_CARD_MATCH CALLED!"),!c.first_card||!c.second_card){console.log("[check_card_match] conly 1 card selected, not possible to check for match");return}let e=h.get(c.first_card),t=h.get(c.second_card);return console.log("[check_card_match] first_card_figure: ",e),console.log("[check_card_match] second_card_figure: ",t),e==t?(console.log("[check_card_match] CARDS MATCHES!!"),t):(console.log("[check_card_match] CARDS DOES NOT MATCH"),!1)}function je(e=750){setTimeout(()=>{let t=Me();t&&(console.log("[handle_card_check] CARDS MATCH - RESET SELECTED CARDS, ADD FOUND FIGURE AND CONTINUE GAME"),c.matches_found.set(t,!0)),Se(),Pe()&&Be()},e)}function De(){for(const e of c.pinned_cards.keys())c.pinned_cards.set(e,!1)}function Se(){c.first_card=null,c.second_card=null,c.locked=!1,De();for(const[e,t]of h)c.matches_found.get(t)||V(e)}function Pe(){for(const[e,t]of c.matches_found)if(!t)return console.log("figure",e),!1;return!0}function Be(){console.log("ALL FIGURES FOUND, GAME ENDED"),j(o.h(Ae,null));let t=$();A(t,pe,65,()=>{setTimeout(n=>{console.log("delayed BirthdayGift rendering"),j(o.h(Ce,null))},900)})}function j(e){const t=document.getElementById("interaction-box");for(;t.firstChild;)t.removeChild(t.lastChild);console.log("new_child",e),t.appendChild(e)}function Le(e){e.preventDefault(),xe();let t=$();A(t,ge);const n=document.getElementById("interaction-box");for(;n.firstChild;)n.removeChild(n.lastChild);const i=o.h(me,null);console.log("new_element",i),n.appendChild(i)}function q(e){e.stopPropagation();let n=e.target.getAttribute("data-card-id")||"none";if(console.log("[handle_card_unfold] handler card_id",n),!(c.locked||c.pinned_cards.get(n))){if(!c.first_card)c.first_card=n,M(n);else if(c.first_card&&!c.second_card){if(n==c.first_card){console.log("[handle_card_unfold] card already selected");return}c.second_card=n,c.pinned_cards.set(c.first_card,!0),c.pinned_cards.set(c.second_card,!0),c.locked=!0,M(n),je()}console.log("[handle_card_unfold] BOARD_STATE",c)}}function Re(e){e.stopPropagation();let n=e.target.getAttribute("data-card-id")||"none";console.log("[handle_card_fold] handler card_id",n),!(c.locked||c.pinned_cards.get(n))&&V(n)}const ze=15,Ie=[4,5,8,10,11],D=["first","first","second","second","third","third","fourth","fourth","fifth","fifth"],h=new Map,C=[];let c={first_card:null,second_card:null,locked:!1,pinned_cards:new Map,matches_found:new Map([["first",!1],["second",!1],["third",!1],["fourth",!1]])};const ke=e=>e.sort(()=>Math.random()-.5);function Ne(){let e=[];ke(D);for(let t=0;t<ze;t++){if(Ie.includes(t)){const s=o.h("div",{id:"gamecell-"+t.toString(),class:"cell"},o.h(p,{id:"gamecell-"+t.toString(),figure:"blank"}));C.push(s),e.push(s);continue}const n=D.shift();h.set("gamecell-"+t,n);const i=o.h("div",{id:"gamecell-"+t.toString(),class:"cell"},o.h(p,{id:"gamecell-"+t.toString(),figure:"back",click:q}));C.push(i),e.push(i)}return console.log("CURRENT_FIGURES_MAP: ",h),e}const Ge=()=>o.h("nav",{class:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},o.h("div",{class:"navbar-brand"},o.h("p",{class:"navbar-item oswald-font is-size-3-tablet is-size-4-mobile"},o.h("span",{class:"icon-text"},o.h("span",{class:"icon"},o.h("span",{class:"material-symbols-outlined is-size-3-tablet is-size-4-mobile"},"earthquake")),o.h("span",null,"DobbyAI"))),o.h("p",{class:"navbar-burger oswald-font is-size-4-tablet is-size-5-mobile"},"18 settembre '24")),o.h("div",{class:"navbar-menu"},o.h("div",{class:"navbar-start"}),o.h("div",{class:"navbar-end"},o.h("div",{class:"navbar-item oswald-font is-size-4-tablet is-size-5-mobile"},o.h("p",null,"18 settembre '24"))))),Ue="/dobby-ai/dobby.svg",He=()=>o.h("div",{class:"columns is-mobile dobby-columns"},o.h("div",{class:"column pl-0 pr-0 pt-6 pb-0 is-one-third is-one-third-mobile"},o.h("figure",{class:"image dobby-image"},o.h("img",{src:Ue}))),o.h("div",{class:"column pl-0 pt-5 is-two-thirds is-two-thirds-mobile"},o.h("p",{id:"dobby-bubble-element",class:"is-size-4 is-size-6-mobile pl-3 oswald-font"})));function Fe(e){e.preventDefault(),console.log("default click action!")}const $e=({text:e="ClocheButton",onclick:t=Fe})=>o.h("button",{id:"cloche-button",onClick:t,class:"button is-primary oswald-font cloche-button cloche-button-hidden"},e),Ve="/dobby-ai/potter-map.svg",qe=()=>o.h("figure",{class:"image marauders-map"},o.h("img",{src:Ve})),Ke=()=>o.h("div",{id:"interaction-box",class:"interaction-box"},o.h(qe,null)),Qe=()=>o.h("section",{class:"section container is-fluid pl-4 pr-4 pt-4 pb-0 viewbox"},o.h("div",{class:"columns is-multiline"},o.h("div",{class:"column is-half-desktop viewbox-column-dobby"},o.h(He,null)),o.h("div",{class:"column level mb-0 is-half-desktop viewbox-column-cloche"},o.h("div",{class:"level-item"},o.h($e,{text:"ALOHOMORA ('ndemo vanti!)",onclick:Le}))),o.h("div",{class:"column is-half-desktop is-offset-half pt-0 pb-0 viewbox-column-interaction"},o.h("div",{class:"level"},o.h("div",{class:"level-item viewbox-level-item-interaction "},o.h(Ke,null)))))),b=document.querySelector("body");b==null||b.insertBefore(o.h(Qe,null),b.firstChild);b==null||b.insertBefore(o.h(Ge,null),b.firstChild);const Je=document.getElementById("dobby-bubble-element");Ne();console.log("past init_cell_list call");setTimeout(()=>{A(Je,he,65,Oe)},1e3);
