(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i={},m={},h={},M={},S={};Object.defineProperty(S,"__esModule",{value:!0});var B={};Object.defineProperty(B,"__esModule",{value:!0});var D={};Object.defineProperty(D,"__esModule",{value:!0});var L={};Object.defineProperty(L,"__esModule",{value:!0});var R={};Object.defineProperty(R,"__esModule",{value:!0});var p={};Object.defineProperty(p,"__esModule",{value:!0});p.classnames=void 0;const H=e=>Object.entries(e).map(([t,n])=>n&&t),w=e=>!!e,F=(e,t,n)=>n.indexOf(e)===t,V=[];function k(e){return e?typeof e=="string"?[e]:Array.isArray(e)?e.flatMap(k).filter(w):H(e).filter(w):V}function q(e){const t=k(e).filter(F);return t.length>0?t.join(" "):void 0}p.classnames=q;(function(e){var t=f&&f.__createBinding||(Object.create?function(o,s,l,r){r===void 0&&(r=l);var a=Object.getOwnPropertyDescriptor(s,l);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(o,r,a)}:function(o,s,l,r){r===void 0&&(r=l),o[r]=s[l]}),n=f&&f.__exportStar||function(o,s){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(s,l)&&t(s,o,l)};Object.defineProperty(e,"__esModule",{value:!0}),n(S,e),n(B,e),n(D,e),n(L,e),n(R,e),n(p,e)})(M);Object.defineProperty(h,"__esModule",{value:!0});h.setAttributes=void 0;const K=M;function W(e,t){for(const n of Object.keys(e))n in t&&(t[n]=e[n])}const J=new RegExp("^on\\p{Lu}","u");function Q(e,t){for(const n of Object.keys(t)){if(n==="__source"||n==="__self"||n==="tsxTag")continue;const o=t[n];if(n==="class"){const s=(0,K.classnames)(o);s&&e.setAttribute(n,s)}else if(n==="ref")o.current=e;else if(J.test(n)){const s=n.replace(/Capture$/,""),l=n!==s,r=s.toLowerCase().substring(2);e.addEventListener(r,o,l)}else n==="style"&&typeof o!="string"?W(o,e.style):n==="dangerouslySetInnerHTML"?e.innerHTML=o:o===!0?e.setAttribute(n,n):(o||o===0)&&e.setAttribute(n,o.toString())}}h.setAttributes=Q;var d={};Object.defineProperty(d,"__esModule",{value:!0});d.applyTsxTag=d.createDomElement=d.applyChildren=void 0;function X(e,t){t instanceof Element?e.appendChild(t):typeof t=="string"||typeof t=="number"?e.appendChild(document.createTextNode(t.toString())):console.warn("Unknown type to append: ",t)}function I(e,t){for(const n of t)!n&&n!==0||(Array.isArray(n)?I(e,n):X(e,n))}d.applyChildren=I;function Y(e,t){const n=t!=null&&t.is?{is:t.is}:void 0;return t!=null&&t.xmlns?document.createElementNS(t.xmlns,e,n):document.createElement(e,n)}d.createDomElement=Y;function Z(e,t){let n=e,o=t;return o&&"tsxTag"in o&&(n=o.tsxTag,!o.is&&e.includes("-")&&(o={...o,is:e})),{finalTag:n,finalAttrs:o}}d.applyTsxTag=Z;Object.defineProperty(m,"__esModule",{value:!0});m.createRef=m.h=m.createElement=void 0;const ee=h,v=d;function N(e,t,...n){if(typeof e=="function")return e({...t,children:n});const{finalTag:o,finalAttrs:s}=(0,v.applyTsxTag)(e,t),l=(0,v.createDomElement)(o,s);return s&&(0,ee.setAttributes)(l,s),(0,v.applyChildren)(l,n),l}m.createElement=N;m.h=N;const te=()=>({current:null});m.createRef=te;var y={},u={};Object.defineProperty(u,"__esModule",{value:!0});u.jsxDEV=u.jsxs=u.jsx=void 0;const ne=h,A=d;function E(e,t){if(typeof e=="function")return e(t);const{children:n,...o}=t,{finalTag:s,finalAttrs:l}=(0,A.applyTsxTag)(e,o),r=(0,A.createDomElement)(s,l);return(0,ne.setAttributes)(r,l),(0,A.applyChildren)(r,[n]),r}u.jsx=E;u.jsxs=E;u.jsxDEV=E;Object.defineProperty(y,"__esModule",{value:!0});y.defineCustomElement=void 0;const oe=u;function ie(e,t,n){return customElements.define(e,t,n),o=>(0,oe.jsx)(e,o)}y.defineCustomElement=ie;var z={};Object.defineProperty(z,"__esModule",{value:!0});(function(e){var t=f&&f.__createBinding||(Object.create?function(o,s,l,r){r===void 0&&(r=l);var a=Object.getOwnPropertyDescriptor(s,l);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(o,r,a)}:function(o,s,l,r){r===void 0&&(r=l),o[r]=s[l]}),n=f&&f.__exportStar||function(o,s){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(s,l)&&t(s,o,l)};Object.defineProperty(e,"__esModule",{value:!0}),n(m,e),n(y,e),n(u,e),n(z,e)})(i);const C="/dobby-ai/card_back.svg",se="/dobby-ai/card_figured_1.svg",le="/dobby-ai/card_figured_2.svg",re="/dobby-ai/card_figured_3.svg",ce="/dobby-ai/card_figured_4.svg",ae="/dobby-ai/card_figured_5.svg",g=({id:e="none",figure:t,pinned:n=!1,click:o=G})=>{switch(t){case"blank":return i.h("div",{class:"image memory-game-cell-image","data-card-id":e});case"back":return i.h(_,{id:e,src:C,pinned:n,click:o});case"first":return i.h(_,{id:e,src:se,pinned:n,click:o});case"second":return i.h(_,{id:e,src:le,pinned:n,click:o});case"third":return i.h(_,{id:e,src:re,pinned:n,click:o});case"fourth":return i.h(_,{id:e,src:ce,pinned:n,click:o});case"fifth":return i.h(_,{id:e,src:ae,pinned:n,click:o});default:return i.h(_,{id:e,src:C,pinned:n,click:o})}};function G(e){console.log("clicked! event: ",e)}const _=({id:e,src:t,pinned:n=!1,click:o=G})=>i.h("figure",{class:"image memory-game-cell-image"},i.h("img",{id:e+"-img",onClick:o,src:t,"data-card-id":e,"data-card-pinned":n})),de=()=>i.h("div",{class:"fixed-grid has-3-cols-mobile memory-game"},i.h("div",{class:"grid"},O));function j(e){console.log("card_id",e);let t=document.getElementById(e||"none"),n=T.get(e||"blank");for(console.log("-------DEBUG (unfold_card - actions/cards)-------"),console.log("raw card_element",t);t!=null&&t.firstChild;)t.removeChild(t.lastChild);t==null||t.appendChild(i.h(g,{id:e,figure:n,pinned:!1,click:fe}))}function P(e){let t=document.getElementById(e||"none");for(console.log("-------DEBUG (unfold_card)-------"),console.log("raw card_element",t);t!=null&&t.firstChild;)t.removeChild(t.lastChild);t==null||t.appendChild(i.h(g,{id:e,figure:"back",pinned:!1,click:U}))}function ue(e){e.preventDefault();const t=document.getElementById("interaction-box");for(;t.firstChild;)t.removeChild(t.lastChild);const n=i.h(de,null);console.log("new_element",n),t.appendChild(n)}function U(e){e.stopPropagation();let t=e.target,n=t.getAttribute("data-card-pinned");if(n||c.locked){console.log("card is pinned or board is locked"),console.log("isPinned",n),console.log("BOARD_STATE.locked",c.locked);return}let o=t.getAttribute("data-card-id")||"none";console.log("handler card_id",o),c.first_card?(c.second_card=o,c.locked=!0,console.log("[handle_card_unfold] BOARD_STATE",c),j(o)):(c.first_card=o,c.locked=!1,console.log("[handle_card_unfold] BOARD_STATE",c),j(o))}function fe(e){e.stopPropagation();let t=e.target,n=t.getAttribute("data-card-pinned");if(n||c.locked){console.log("card is pinned or board is locked"),console.log("isPinned",n),console.log("BOARD_STATE.locked",c.locked);return}let o=t.getAttribute("data-card-id")||"none";console.log("handler card_id",o),c.first_card==o?(c.first_card=null,c.locked=!1,console.log("[handle_card_unfold] BOARD_STATE",c),P(o)):c.second_card==o&&(c.second_card=null,c.locked=!1,console.log("[handle_card_unfold] BOARD_STATE",c),P(o))}const be=15,me=[4,5,8,10,11],x=["first","first","second","second","third","third","fourth","fourth","fifth","fifth"],T=new Map,O=[];let c={first_card:null,second_card:null,locked:!1};const _e=e=>e.sort(()=>Math.random()-.5);function he(){let e=[];_e(x);for(let t=0;t<be;t++){if(me.includes(t)){const s=i.h("div",{id:"gamecell-"+t.toString(),class:"cell"},i.h(g,{id:"gamecell-"+t.toString(),figure:"blank"}));O.push(s),e.push(s);continue}const n=x.shift();T.set("gamecell-"+t,n);const o=i.h("div",{id:"gamecell-"+t.toString(),class:"cell"},i.h(g,{id:"gamecell-"+t.toString(),figure:"back",click:U}));O.push(o),e.push(o)}return console.log("CURRENT_FIGURES_MAP: ",T),e}const ge=()=>i.h("nav",{class:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},i.h("div",{class:"navbar-brand"},i.h("p",{class:"navbar-item oswald-font is-size-3-tablet is-size-4-mobile"},i.h("span",{class:"icon-text"},i.h("span",{class:"icon"},i.h("span",{class:"material-symbols-outlined is-size-3-tablet is-size-4-mobile"},"earthquake")),i.h("span",null,"DobbyAI"))),i.h("p",{class:"navbar-burger oswald-font is-size-4-tablet is-size-5-mobile"},"18 settembre '24")),i.h("div",{class:"navbar-menu"},i.h("div",{class:"navbar-start"}),i.h("div",{class:"navbar-end"},i.h("div",{class:"navbar-item oswald-font is-size-4-tablet is-size-5-mobile"},i.h("p",null,"18 settembre '24"))))),pe="/dobby-ai/dobby.svg",ye=()=>i.h("div",{class:"columns is-mobile dobby-columns"},i.h("div",{class:"column pl-0 pr-0 pt-6 pb-0 is-one-third is-one-third-mobile"},i.h("figure",{class:"image dobby-image"},i.h("img",{src:pe}))),i.h("div",{class:"column pl-0 pt-5 is-two-thirds is-two-thirds-mobile"},i.h("p",{id:"dobby-bubble-element",class:"is-size-4 is-size-6-mobile pl-3 oswald-font"})));function ve(e){e.preventDefault(),console.log("default click action!")}const Ae=({text:e="ClocheButton",onclick:t=ve})=>i.h("button",{id:"cloche-button",onClick:t,class:"button is-primary oswald-font cloche-button cloche-button-hidden"},e),Te="/dobby-ai/potter-map.svg",Oe=()=>i.h("div",{id:"interaction-box",class:"interaction-box"},i.h("figure",{class:"image potter-map-image"},i.h("img",{src:Te}))),Ee=()=>i.h("section",{class:"section container is-fluid pl-4 pr-4 pt-4 pb-0 viewbox"},i.h("div",{class:"columns is-multiline"},i.h("div",{class:"column is-half-desktop viewbox-column-dobby"},i.h(ye,null)),i.h("div",{class:"column level mb-0 is-half-desktop viewbox-column-cloche"},i.h("div",{class:"level-item"},i.h(Ae,{text:"ALOHOMORA",onclick:ue}))),i.h("div",{class:"column is-half-desktop is-offset-half pt-0 pb-0 viewbox-column-interaction"},i.h("div",{class:"level"},i.h("div",{class:"level-item viewbox-level-item-interaction "},i.h(Oe,null)))))),we=()=>{const e=document.getElementById("cloche-button");e==null||e.classList.remove("cloche-button-hidden"),console.log("removed cloche-button-hidden class from button!")},$=(e,t,n,o="",s=200)=>{let l=o;if(o.length<t.length){let r=n.shift();l+=r,console.log("acc: ",l),e.innerHTML+=r,setTimeout(()=>$(e,t,n,l,s),s)}else setTimeout(()=>{console.log("SHOW BUTTON"),we()},850)};function Ce(e,t,n=65){let o=t.split("");$(e,t,o,"",n)}const je="debugging",b=document.querySelector("body");b==null||b.insertBefore(i.h(Ee,null),b.firstChild);b==null||b.insertBefore(i.h(ge,null),b.firstChild);const Pe=document.getElementById("dobby-bubble-element");he();console.log("past init_cell_list call");setTimeout(()=>Ce(Pe,je),1e3);
