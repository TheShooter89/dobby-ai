(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r={},h={},g={},D={},S={};Object.defineProperty(S,"__esModule",{value:!0});var x={};Object.defineProperty(x,"__esModule",{value:!0});var P={};Object.defineProperty(P,"__esModule",{value:!0});var L={};Object.defineProperty(L,"__esModule",{value:!0});var R={};Object.defineProperty(R,"__esModule",{value:!0});var y={};Object.defineProperty(y,"__esModule",{value:!0});y.classnames=void 0;const F=e=>Object.entries(e).map(([t,n])=>n&&t),O=e=>!!e,$=(e,t,n)=>n.indexOf(e)===t,V=[];function B(e){return e?typeof e=="string"?[e]:Array.isArray(e)?e.flatMap(B).filter(O):F(e).filter(O):V}function q(e){const t=B(e).filter($);return t.length>0?t.join(" "):void 0}y.classnames=q;(function(e){var t=f&&f.__createBinding||(Object.create?function(o,i,s,c){c===void 0&&(c=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(o,c,a)}:function(o,i,s,c){c===void 0&&(c=s),o[c]=i[s]}),n=f&&f.__exportStar||function(o,i){for(var s in o)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,o,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(S,e),n(x,e),n(P,e),n(L,e),n(R,e),n(y,e)})(D);Object.defineProperty(g,"__esModule",{value:!0});g.setAttributes=void 0;const K=D;function W(e,t){for(const n of Object.keys(e))n in t&&(t[n]=e[n])}const J=new RegExp("^on\\p{Lu}","u");function Q(e,t){for(const n of Object.keys(t)){if(n==="__source"||n==="__self"||n==="tsxTag")continue;const o=t[n];if(n==="class"){const i=(0,K.classnames)(o);i&&e.setAttribute(n,i)}else if(n==="ref")o.current=e;else if(J.test(n)){const i=n.replace(/Capture$/,""),s=n!==i,c=i.toLowerCase().substring(2);e.addEventListener(c,o,s)}else n==="style"&&typeof o!="string"?W(o,e.style):n==="dangerouslySetInnerHTML"?e.innerHTML=o:o===!0?e.setAttribute(n,n):(o||o===0)&&e.setAttribute(n,o.toString())}}g.setAttributes=Q;var d={};Object.defineProperty(d,"__esModule",{value:!0});d.applyTsxTag=d.createDomElement=d.applyChildren=void 0;function X(e,t){t instanceof Element?e.appendChild(t):typeof t=="string"||typeof t=="number"?e.appendChild(document.createTextNode(t.toString())):console.warn("Unknown type to append: ",t)}function k(e,t){for(const n of t)!n&&n!==0||(Array.isArray(n)?k(e,n):X(e,n))}d.applyChildren=k;function Y(e,t){const n=t!=null&&t.is?{is:t.is}:void 0;return t!=null&&t.xmlns?document.createElementNS(t.xmlns,e,n):document.createElement(e,n)}d.createDomElement=Y;function Z(e,t){let n=e,o=t;return o&&"tsxTag"in o&&(n=o.tsxTag,!o.is&&e.includes("-")&&(o={...o,is:e})),{finalTag:n,finalAttrs:o}}d.applyTsxTag=Z;Object.defineProperty(h,"__esModule",{value:!0});h.createRef=h.h=h.createElement=void 0;const ee=g,A=d;function N(e,t,...n){if(typeof e=="function")return e({...t,children:n});const{finalTag:o,finalAttrs:i}=(0,A.applyTsxTag)(e,t),s=(0,A.createDomElement)(o,i);return i&&(0,ee.setAttributes)(s,i),(0,A.applyChildren)(s,n),s}h.createElement=N;h.h=N;const te=()=>({current:null});h.createRef=te;var v={},u={};Object.defineProperty(u,"__esModule",{value:!0});u.jsxDEV=u.jsxs=u.jsx=void 0;const ne=g,C=d;function T(e,t){if(typeof e=="function")return e(t);const{children:n,...o}=t,{finalTag:i,finalAttrs:s}=(0,C.applyTsxTag)(e,o),c=(0,C.createDomElement)(i,s);return(0,ne.setAttributes)(c,s),(0,C.applyChildren)(c,[n]),c}u.jsx=T;u.jsxs=T;u.jsxDEV=T;Object.defineProperty(v,"__esModule",{value:!0});v.defineCustomElement=void 0;const oe=u;function re(e,t,n){return customElements.define(e,t,n),o=>(0,oe.jsx)(e,o)}v.defineCustomElement=re;var I={};Object.defineProperty(I,"__esModule",{value:!0});(function(e){var t=f&&f.__createBinding||(Object.create?function(o,i,s,c){c===void 0&&(c=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(o,c,a)}:function(o,i,s,c){c===void 0&&(c=s),o[c]=i[s]}),n=f&&f.__exportStar||function(o,i){for(var s in o)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,o,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(h,e),n(v,e),n(u,e),n(I,e)})(r);const w="/dobby-ai/card_back.svg",ie="/dobby-ai/card_figured_1.svg",se="/dobby-ai/card_figured_2.svg",ce="/dobby-ai/card_figured_3.svg",le="/dobby-ai/card_figured_4.svg",ae="/dobby-ai/card_figured_5.svg",p=({id:e="none",figure:t,pinned:n=!1,click:o=U})=>{switch(t){case"blank":return r.h("div",{class:"image memory-game-cell-image","data-card-id":e});case"back":return r.h(m,{id:e,src:w,pinned:n,click:o});case"first":return r.h(m,{id:e,src:ie,pinned:n,click:o});case"second":return r.h(m,{id:e,src:se,pinned:n,click:o});case"third":return r.h(m,{id:e,src:ce,pinned:n,click:o});case"fourth":return r.h(m,{id:e,src:le,pinned:n,click:o});case"fifth":return r.h(m,{id:e,src:ae,pinned:n,click:o});default:return r.h(m,{id:e,src:w,pinned:n,click:o})}};function U(e){console.log("clicked! event: ",e)}const m=({id:e,src:t,pinned:n=!1,click:o=U})=>r.h("figure",{class:"image memory-game-cell-image"},r.h("img",{id:e+"-img",onClick:o,src:t,"data-card-id":e,"data-card-pinned":n})),de=()=>r.h("div",{class:"fixed-grid has-3-cols-mobile memory-game"},r.h("div",{class:"grid"},E));function j(e){console.log("card_id",e);let t=document.getElementById(e||"none"),n=b.get(e||"blank");for(console.log("-------DEBUG (unfold_card - actions/cards)-------"),console.log("raw card_element",t),console.log("figure",n);t!=null&&t.firstChild;)t.removeChild(t.lastChild);t==null||t.appendChild(r.h(p,{id:e,figure:n,pinned:!1,click:pe})),console.log("card_element after unfold",t)}function G(e){let t=document.getElementById(e||"none");for(console.log("-------DEBUG (unfold_card)-------"),console.log("raw card_element",t);t!=null&&t.firstChild;)t.removeChild(t.lastChild);t==null||t.appendChild(r.h(p,{id:e,figure:"back",pinned:!1,click:H}))}function ue(){if(console.log("[check_card_match] CHECK_CARD_MATCH CALLED!"),!l.first_card||!l.second_card){console.log("[check_card_match] conly 1 card selected, not possible to check for match");return}let e=b.get(l.first_card),t=b.get(l.second_card);return console.log("[check_card_match] first_card_figure: ",e),console.log("[check_card_match] second_card_figure: ",t),e==t?(console.log("[check_card_match] CARDS MATCHES!!"),t):(console.log("[check_card_match] CARDS DOES NOT MATCH"),!1)}function fe(e=750){setTimeout(()=>{let t=ue();t&&(console.log("[handle_card_check] CARDS MATCH - RESET SELECTED CARDS, ADD FOUND FIGURE AND CONTINUE GAME"),l.matches_found.set(t,!0)),he(),me()&&be()},e)}function _e(){for(const e of l.pinned_cards.keys())l.pinned_cards.set(e,!1)}function he(){l.first_card=null,l.second_card=null,l.locked=!1,_e();for(const[e,t]of b)l.matches_found.get(t)||G(e)}function me(){for(const e of l.matches_found)if(!e)return!1;return!0}function be(){console.log("ALL FIGURES FOUND, GAME ENDED")}function ge(e){e.preventDefault();const t=document.getElementById("interaction-box");for(;t.firstChild;)t.removeChild(t.lastChild);const n=r.h(de,null);console.log("new_element",n),t.appendChild(n)}function H(e){e.stopPropagation();let n=e.target.getAttribute("data-card-id")||"none";if(console.log("[handle_card_unfold] handler card_id",n),!(l.locked||l.pinned_cards.get(n))){if(!l.first_card)l.first_card=n,j(n);else if(l.first_card&&!l.second_card){if(n==l.first_card){console.log("[handle_card_unfold] card already selected");return}l.second_card=n,l.pinned_cards.set(l.first_card,!0),l.pinned_cards.set(l.second_card,!0),l.locked=!0,j(n),fe()}console.log("[handle_card_unfold] BOARD_STATE",l)}}function pe(e){e.stopPropagation();let n=e.target.getAttribute("data-card-id")||"none";console.log("[handle_card_fold] handler card_id",n),!(l.locked||l.pinned_cards.get(n))&&G(n)}const ye=15,ve=[4,5,8,10,11],M=["first","first","second","second","third","third","fourth","fourth","fifth","fifth"],b=new Map,E=[];let l={first_card:null,second_card:null,locked:!1,pinned_cards:new Map,matches_found:new Map([["first",!1],["second",!1],["third",!1],["fourth",!1]])};const Ae=e=>e.sort(()=>Math.random()-.5);function Ce(){let e=[];Ae(M);for(let t=0;t<ye;t++){if(ve.includes(t)){const i=r.h("div",{id:"gamecell-"+t.toString(),class:"cell"},r.h(p,{id:"gamecell-"+t.toString(),figure:"blank"}));E.push(i),e.push(i);continue}const n=M.shift();b.set("gamecell-"+t,n);const o=r.h("div",{id:"gamecell-"+t.toString(),class:"cell"},r.h(p,{id:"gamecell-"+t.toString(),figure:"back",click:H}));E.push(o),e.push(o)}return console.log("CURRENT_FIGURES_MAP: ",b),e}const Ee=()=>r.h("nav",{class:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation"},r.h("div",{class:"navbar-brand"},r.h("p",{class:"navbar-item oswald-font is-size-3-tablet is-size-4-mobile"},r.h("span",{class:"icon-text"},r.h("span",{class:"icon"},r.h("span",{class:"material-symbols-outlined is-size-3-tablet is-size-4-mobile"},"earthquake")),r.h("span",null,"DobbyAI"))),r.h("p",{class:"navbar-burger oswald-font is-size-4-tablet is-size-5-mobile"},"18 settembre '24")),r.h("div",{class:"navbar-menu"},r.h("div",{class:"navbar-start"}),r.h("div",{class:"navbar-end"},r.h("div",{class:"navbar-item oswald-font is-size-4-tablet is-size-5-mobile"},r.h("p",null,"18 settembre '24"))))),Te="/dobby-ai/dobby.svg",Oe=()=>r.h("div",{class:"columns is-mobile dobby-columns"},r.h("div",{class:"column pl-0 pr-0 pt-6 pb-0 is-one-third is-one-third-mobile"},r.h("figure",{class:"image dobby-image"},r.h("img",{src:Te}))),r.h("div",{class:"column pl-0 pt-5 is-two-thirds is-two-thirds-mobile"},r.h("p",{id:"dobby-bubble-element",class:"is-size-4 is-size-6-mobile pl-3 oswald-font"})));function we(e){e.preventDefault(),console.log("default click action!")}const je=({text:e="ClocheButton",onclick:t=we})=>r.h("button",{id:"cloche-button",onClick:t,class:"button is-primary oswald-font cloche-button cloche-button-hidden"},e),Me="/dobby-ai/potter-map.svg",De=()=>r.h("div",{id:"interaction-box",class:"interaction-box"},r.h("figure",{class:"image potter-map-image"},r.h("img",{src:Me}))),Se=()=>r.h("section",{class:"section container is-fluid pl-4 pr-4 pt-4 pb-0 viewbox"},r.h("div",{class:"columns is-multiline"},r.h("div",{class:"column is-half-desktop viewbox-column-dobby"},r.h(Oe,null)),r.h("div",{class:"column level mb-0 is-half-desktop viewbox-column-cloche"},r.h("div",{class:"level-item"},r.h(je,{text:"ALOHOMORA",onclick:ge}))),r.h("div",{class:"column is-half-desktop is-offset-half pt-0 pb-0 viewbox-column-interaction"},r.h("div",{class:"level"},r.h("div",{class:"level-item viewbox-level-item-interaction "},r.h(De,null)))))),xe=()=>{const e=document.getElementById("cloche-button");e==null||e.classList.remove("cloche-button-hidden"),console.log("removed cloche-button-hidden class from button!")},z=(e,t,n,o="",i=200)=>{let s=o;if(o.length<t.length){let c=n.shift();s+=c,console.log("acc: ",s),e.innerHTML+=c,setTimeout(()=>z(e,t,n,s,i),i)}else setTimeout(()=>{console.log("SHOW BUTTON"),xe()},850)};function Pe(e,t,n=65){let o=t.split("");z(e,t,o,"",n)}const Le="Ciao Erica! Sono Dobby, un elfo domestico virtuale. Tuo fratello mi ha programmato per farti gli auguri, ma credo di aver fatto un pasticcio...troppa Burrobirra ieri sera...",_=document.querySelector("body");_==null||_.insertBefore(r.h(Se,null),_.firstChild);_==null||_.insertBefore(r.h(Ee,null),_.firstChild);const Re=document.getElementById("dobby-bubble-element");Ce();console.log("past init_cell_list call");setTimeout(()=>Pe(Re,Le),1e3);
